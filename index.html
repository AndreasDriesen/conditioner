---
layout: default
title: Carefree AMD Module Loading under all Circumstances - ConditionerJS
tagline: <em>Carefree AMD Module Loading under all Circumstances</em>
---

<nav class="index">
    <ul>
        <li><a href="#introduction">Introduction</a></li>
        <li><a href="#requirements">Requirements</a></li>
        <li><a href="#download">Download</a></li>
        <li><a href="#documentation">Documentation</a></li>
        <li><a href="#examples">Examples</a></li>
        <li><a href="#license">License</a></li>
    </ul>
</nav>

<h2 id="introduction" class="print">Introduction</h2>

<p class="introduction"><strong>ConditionerJS contains AMD extracts for carefree day long module loading, it prevents frizz and makes your modules shine when they need to, not tested on animals.</strong></p>

<p>Suppose you have a Google Maps module which transforms an anchor to a full blown Google Map. It would make sense to only activate the maps module if there's enough real estate on the screen to render a decent sized map. And to save a request and some bits and bytes you might only want to start loading the map once the map container becomes visible to the user.</p>

<p>The following HTML snippet shows how to setup this Google Map using ConditionerJS. There are two things going on, the Map module is bound using the <code>data-module</code> attribute and the required conditions are set via the <code>data-conditions</code> attribute.</p>

{% highlight html %}
<a href="http://maps.google.com/?ll=51.741,3.822"
    data-module="ui/Map"
    data-conditions="media:{(min-width:40em)} and element:{seen}"> ... </a>
{% endhighlight %}

<p>Now the HTML is setup, we only have to tell the Conditioner to look for modules in a certain section of the DOM and we're done.</p>

<p>We can accomplish this by using the <code>loadModules</code> method.</p>

{% highlight html %}
conditioner.loadModules(document);
{% endhighlight %}

<p>Now the following question might be on your mind:</p>

<blockquote>Why shouldn't I just put those conditions in my Google Map module?</blockquote>

<p>And of course that would work, at first.</p>

<p>As your project grows you might want to use the module on another page under different circumstances. So you add another condition, and then another, and another.</p>

<p>Your modules should, most of the time, not be concerned with the environment they are in. This is where ConditionerJS comes in. ConditionerJS will handle the environment and will initialize your module when the environment is suitable.</p>

<p>Because ConditionerJS takes care of initializing and loading modules, your modules all live separate from each other on their own little island in the DOM.</p>

<p>The map module we were talking about is located right below this paragraph, it should be loading right now (if your window is at least 40ems wide). Go on and resize that browser window, ConditionerJS will load and unload the map on the fly.</p>

<div class="component">
    <a href="http://maps.google.com/?ll=51.741380,3.822169&z=13"
       data-module="ui/Map"
       data-priority="2"
       data-conditions="media:{(min-width:40em)} and element:{seen} or not media:{supported}">Coast of Holland at Google Maps</a>
</div>





<h2 id="requirements">Requirements</h2>
<p>Since ConditionerJS is based on RequireJS you'll need RequireJS to make it fly. RequireJS is awesome at what it does, to not leverage that awesomeness and write a module loader of our own would just be silly. <a href="http://requirejs.org" title="RequireJS - A JavaScript Module Loader" target="_blank">Get RequireJS</a></p>

<p>ConditionerJS works on IE8 and up, although there's no media query support on IE8 you can still build conditions containing media queries by using the <code>or not media:{supported}</code> condition.</p>




<h2 id="download">Download</h2>
<p>As the framework is still under development I would advice not to use it in any serious project for now.</p>

<p>The latest version of the framework can be downloaded below:</p>
<ul class="files">
    <li><a href="{{ site.rawurl }}/dist/conditioner-{{ site.version }}.js">Development</a> (readable)</li>
    <li><a href="{{ site.rawurl }}/dist/conditioner-{{ site.version }}.min.js">Production</a> ~ 2.5Kb gzipped (unreadable)</li>
</ul>

<p>The framework does not include the default tests as these might differ for each project. At the moment the following tests are available for download.</p>

<ul class="files">
    <li><a href="{{ site.rawurl }}/dist/tests.min/media.js">Media</a></li>
    <li><a href="{{ site.rawurl }}/dist/tests.min/element.js">Element</a></li>
    <li><a href="{{ site.rawurl }}/dist/tests.min/window.js">Window</a></li>
    <li><a href="{{ site.rawurl }}/dist/tests.min/pointer.js">Pointer</a></li>
    <li><a href="{{ site.rawurl }}/dist/tests.min/connection.js">Connection</a></li>
</ul>





<h2 id="documentation">Documentation</h2>

<p>The docs contain an example on how to quickly setup ConditionerJS.</p>

<a href="docs/">Documentation</a>





<h2 id="examples">Examples</h2>

<p>Some example implementations.</p>

<nav class="sub">
    {% include nav-examples.html %}
</nav>



<h2 id="license">License</h2>
<p><a href="http://www.opensource.org/licenses/mit-license.php">MIT license</a></p>
